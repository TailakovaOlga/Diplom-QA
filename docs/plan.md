План автоматизации

Перечень автоматизируемых сценариев
1. Успешная оплата тура «Путешествие дня» при валидном значении заполненных полей формы «Обычная оплата по дебетовой карте» по разрешенной банковской карте (номер карты заполнен с пробелами после каждых 4 символов).
Ожидаемый результат: появление сообщения об успешной оплате тура.
В БД статус операции: APPROVED.

2. Успешная оплата в кредит тура «Путешествие дня» при валидном значении заполненных полей формы «Купить в кредит» по разрешенной банковской карте (номер карты заполнен с пробелами после каждых 4 символов).
Ожидаемый результат: появление сообщения об успешном взятии кредита. 
В БД статус операции: APPROVED

3. Отказ в оплате тура «Путешествие дня» при валидном значении заполненных полей формы «Обычная оплата по дебетовой карте» по запрещенной карте 
Ожидаемый результат: появление сообщения об отказе в оплате тура. 
В БД статус операции: DECLINED.

4. Отказ в кредите на покупку тура «Путешествие дня» при валидном значении заполненных полей формы «Купить в кредит» по запрещенной карте (номер карты заполнен с пробелами после каждых 4 символов).  
Ожидаемый результат: появление сообщения об отказе во взятии кредита. 
В БД статус операции: DECLINED.

5. Отказ в оплате тура «Путешествие дня» при валидном значении заполненных полей формы «Обычная оплата по дебетовой карте» по валидной карте номера которой нет в базе (запрещенная)1111 1111 1111 1111 1111).  
Ожидаемый результат: появление сообщения об отказе в оплате тура. 
В БД статус операции: DECLINED.

6. Отказ в оплате тура «Путешествие дня» в кредит при валидном значении заполненных полей формы «Купить в кредит» по валидной карте номера которой нет в базе (запрещенная)1111 1111 1111 1111 1111).  
Ожидаемый результат: появление сообщения об отказе в оплате тура. 
В БД статус операции: DECLINED.

7. Успешная оплата тура «Путешествие дня» после исправления номера запрещенной карты с валидным значением заполненных полей формы «Обычная оплата по дебетовой карте» (номер карты 4444 4444 4444 4442).
Ожидаемый результат: Оплата не происходит. Поле «Номер карты» подчёркнуто красным, под полем есть сообщение «Неверный формат».
В поле «Номер карты» ввести валидный номер разрешенной банковской карты  (номер карты 4444 4444 4444 4441).
Ожидаемый результат: Нотификация об ошибке номера исчезла. Получено уведомление «Успешно». В БД статус операции: APPROVED.

8. Успешная оплата тура «Путешествие дня» в кредит после исправления номера запрещенной карты с валидным значением заполненных полей формы «Купить в кредит» (номер карты 4444 4444 4444 4442).
Ожидаемый результат: Оплата не происходит. Поле «Номер карты» подчёркнуто красным, под полем есть сообщение «Неверный формат».
В поле «Номер карты» ввести валидный номер разрешенной банковской карты  (номер карты 4444 4444 4444 4441).
Ожидаемый результат: Нотификация об ошибке номера исчезла. Получено уведомление «Успешно». В БД статус операции: APPROVED.

9. Отказ в оплате тура «Путешествие дня» при введении данных банковской карты просроченной на месяц. Заполняем все поля кроме поля «Месяц» валидными данными, в поле «Месяц» вводим прошедший месяц.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Поле «Месяц» подчёркнуто красным, под полем  сообщение «Неверно указан срок действия карты».

10. Отказ в оплате тура «Путешествие дня» при покупке в кредит при введении данных банковской карты просроченной на месяц. Заполняем все поля кроме поля «Месяц» валидными данными, в поле «Месяц» вводим прошедший месяц.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Поле «Месяц» подчёркнуто красным, под полем сообщение «Неверно указан срок действия карты».

11. Отказ в оплате тура «Путешествие дня» при введении данных банковской карты просроченной на год. Заполняем все поля кроме поля «Год» валидными данными, в поле «Год» вводим прошедший год.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Поле «Год» подчёркнуто красным, под полем сообщение «Истёк срок действия карты».

12. Успешная оплата тура «Путешествие дня» после исправления значения в поле «Месяц» на валидное по разрешенной банковской карте. Заполняем все поля кроме поля «Месяц» валидными данными, в поле «Месяц» вводим прошедший месяц.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Поле «Месяц» подчёркнуто красным, под полем сообщение «Неверно указан срок действия карты».
В поле «Месяц» ввести валидное значение месяца.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Нотификация об ошибке номера исчезла. Получено уведомление «Успешно». 
В БД статус операции: APPROVED.

13. Успешная оплата тура «Путешествие дня» после исправления значения в поле «Месяц» на валидное по разрешенной банковской карте при покупке в кредит. Заполняем все поля кроме поля «Месяц» валидными данными, в поле «Месяц» вводим прошедший месяц.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Поле «Месяц» подчёркнуто красным, под полем сообщение «Неверно указан срок действия карты».
В поле «Месяц» ввести валидное значение месяца.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Нотификация об ошибке номера исчезла. Получено уведомление «Успешно». 
В БД статус операции: APPROVED.

14. Успешная оплата тура «Путешествие дня» после исправления значения в поле «Год» на валидное по разрешенной банковской карте. Заполняем все поля кроме поля «Год» валидными данными, в поле «Год» вводим прошедший год.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Поле «Год» подчёркнуто красным, под полем сообщение «Истёк срок действия карты».
В поле «Год» ввести валидное значение года.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Нотификация об ошибке номера исчезла. Получено уведомление «Успешно». В БД статус операции: APPROVED.

15. Успешная оплата тура «Путешествие дня» после исправления значения в поле «Год» на валидное по разрешенной банковской карте при покупке в кредит. Заполняем все поля кроме поля «Год» валидными данными, в поле «Год» вводим прошедший год.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
Поле «Год» подчёркнуто красным, под полем сообщение «Истёк срок действия карты».
В поле «Год» ввести валидное значение года.
Ожидаемый результат: появление сообщения об отказе в оплате тура.
 Нотификация об ошибке номера исчезла. Получено уведомление «Успешно». В БД статус операции: APPROVED.

16. Заполнение поля «Номер карты» значением номер действующей карты без пробелов, остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».  
Ожидаемый результат: появление сообщения об успешной оплате тура.

17. Оставление поля «Номер карты» пустым, остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».  
Ожидаемый результат: под полем «Номер карты» появиться предупреждение о незаполненном поле.

18. Заполнение поля «Номер карты» 15 рандомными цифрами, остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».  
Ожидаемый результат: под полем «Номер карты» появится предупреждение о недопустимой длине поля.

19. Заполнение поля «Номер карты» 17 рандомными цифрами, остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».  
Ожидаемый результат: появление сообщения об отказе в оплате тура.

20. Заполнение поля «Номер карты» 16 знаками (буквами кириллицы), остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».     
Ожидаемый результат: под полем «Номер карты» появиться предупреждение о недопустимых символах.

21.Заполнение поля «Номер карты» 16 знаками (буквами латиницы), остальные поля заполнены валидными значениями полей формы «Обычная оплата по дебетовой карте» тура «Путешествие дня».     
Ожидаемый результат: под полем «Номер карты» появиться предупреждение о недопустимых символах.

22.Заполнение поля «Номер карты» 16 знаками (спецсимволами), остальные поля заполнены валидными значениями полей формы «Обычная оплата по дебетовой карте» тура «Путешествие дня».     
Ожидаемый результат: под полем «Номер карты» появиться предупреждение о недопустимых символах.

23. Оставление поля «Месяц» пустым, остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».     
Ожидаемый результат: под полем «Месяц» появиться предупреждение о незаполненном поле.

24. Заполнение поля «Месяц» значением 0, остальные поля заполнены валиднными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня»  
Ожидаемый результат: под полем «Месяц» появиться предупреждение о невалидном значении

25. Заполнение поля «Месяц» значением 1, остальные поля заполнены валидными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».      
Ожидаемый результат: появление сообщения об успешной оплате тура.

26. Заполнение поля «Месяц» значением 13, остальные поля заполнены валидными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».     
Ожидаемый результат: под полем «Месяц» появиться предупреждение о невалидном значении.

27. Заполнение поля «Месяц» любым символами(спецсимволом), остальные поля заполнены валидными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».        
Ожидаемый результат: под полем «Месяц» появиться предупреждение о невалидном значении.

28. Оставление поля «Год» пустым, остальные поля заполнены валидными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».     
Ожидаемый результат: под полем «Год» появиться предупреждение о пустом поле.

29. Оставление поля «Владелец» пустым, остальные поля заполнены валидными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».      
Ожидаемый результат: под полем «Владелец» появиться предупреждение о незаполненном поле.

30. Заполнение поля «Владелец» валидными данными с дефисом, остальные поля заполнены валидными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».        
Ожидаемый результат: появление сообщения об успешной оплате тура.

31. Заполнение поля «Владелец» в нижнем регистре, остальные поля заполнены валидными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».        
Ожидаемый результат: под полем «Владелец» появляется сообщение поле должно быть заполнено в верхнем регистре.

32. Заполнение поля «Владелец» буквами (кириллицей), остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».          
Ожидаемый результат: Оплата не происходит. Под полем «Владелец» появиться предупреждение о невалидном значении.

33. Заполнение поля «Владелец» спецсимволами, остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».      
Ожидаемый результат: Оплата не происходит. Под полем «Владелец» появиться предупреждение о невалидном значении.

34. Заполнить все поля кроме «Владелец» валидными данными в поля формы «Обычная оплата по дебетовой карте» тура «Путешествие дня».      
Ожидаемый результат: Оплата не происходит. Под полем «Владелец» появиться предупреждение о невалидном значении.
В поле «Владелец» ввести валидное значение.
Ожидаемый результат: Нотификация об ошибке исчезла. Получено уведомление «Успешно». В БД статус операции: APPROVED.

35. Заполнить все поля кроме «Владелец» валидными данными в поля формы «Купить в кредит» тура «Путешествие дня».      
Ожидаемый результат: Оплата не происходит. Под полем «Владелец» появиться предупреждение о невалидном значении.
В поле «Владелец» ввести валидное значение.
Ожидаемый результат: Нотификация об ошибке исчезла. Получено уведомление «Успешно». В БД статус операции: APPROVED.

36. Оставление поля «CVC/CVV» пустым, остальные поля заполнены валидными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».       
Ожидаемый результат: под полем «CVC/CVV» появиться предупреждение о незаполненом поле.

37. Заполнение поля «CVC/CVV» 2 рандомными цифрами, остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».          
Ожидаемый результат: под полем «CVC/CVV» появление сообщения о недопустимой длине.

38. Заполнение поля «CVC/CVV» 4 рандомными цифрами, остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».          
Ожидаемый результат: появляется сообщение о некорректно заполненном поле.

39. Заполнение поля «CVC/CVV» 3 рандомными буквами (кириллицей), остальные поля заполнены валидными значениями полей в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».          
Ожидаемый результат: под полем «CVC/CVV» появляется сообщение о некорректно заполненном поле.

40. Заполнение поля «CVC/CVV» 3 рандомными буквами (латиницей), остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».          
Ожидаемый результат: под полем «CVC/CVV» появляется сообщение о некорректно заполненном поле.

41. Заполнение поля «CVC/CVV» 3 спецсимволами, остальные поля заполнены валидными значениями полей форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».          
Ожидаемый результат: под полем «CVC/CVV» появляется сообщение о некорректно заполненном поле.   

42. Заполнить все поля кроме «CVC/CVV» валидными данными в форме «Обычная оплата по дебетовой карте» тура «Путешествие дня».          
Ожидаемый результат: под полем «CVC/CVV» появляется сообщение о некорректно заполненном поле.   
В поле «CVC/CVV» ввести валидное значение.
Ожидаемый результат: 
Нотификация об ошибке исчезла. Получено уведомление "Успешно". В БД статус операции: APPROVED.

43. Заполнить все поля кроме «CVC/CVV» валидными данными в форме «Купить в кредит» тура «Путешествие дня».          
Ожидаемый результат: под полем «CVC/CVV»  появляется сообщение о некорректно заполненном поле.   
В поле «CVC/CVV» ввести валидное значение.
Ожидаемый результат: 
Нотификация об ошибке исчезла. Получено уведомление "Успешно". В БД статус операции: APPROVED.

Валидными значениями для полей являются:
- Номер карты: Номер разрешённой (APPROVED) карты: 4444 4444 4444 4441
- Номер запрещённой (DECLINED) карты: 4444 4444 4444 4442
- Месяц, год: текущий месяц текущего года 
- Владелец: Имя и фамилия латиницей в верхнем регистре
- CVC/CVV: число длиной 3 цифры
 
Перечень используемых инструментов с обоснованием выбора
1. IntelliJ IDEA
2. Язык программирования:Java
3. Система сборки:
    Gradle 
Легче настраивать зависимости по сравнению с Maven
4.Тестовая среда
TestNG Имеет, по сравнению с JUnit, больше аннотаций для управления состоянием SUT (например @BeforeSuite, @AfterSuite), может разбивать тесты на наборы тестов (suite) и имеет больше возможностей по параметризации тестов
5.Система репортинга Allur
Более сложные системы репортинга будут излишни
6.Фреймворк для тестирования
  Selenide
  Популярный и простой инструмент для UI тестов
7. Фреймворк для backend тестирования
   REST Assured 
   Популярный инструмент для отправки REST запросов
8. Фреймворк
   Java Faker
   Простой инструмент для генерации тестовых данных
9.Lombok
   Фреймворк для автогенерации кода с целью улучшить читаемость тестов
  
Перечень и описание возможных рисков при автоматизации
1. При тестировании  функционала приложения  "Путешествие дня", данные для тестов должны быть не "захардкоренными" т.е. тесты должны проходить после каждодневных изменений (например, изменение цены тура)
2. Заполнение полей "Месяц" и "Год" должно быть не "захардкоренными" и изменяться с течением времени
3. Из-за требования совместимости с двумя БД: MySQL, PostgreSQL, могут возникнут проблемы с разностью диалектов SQL
4. Из-за требования совместимости с двумя БД: MySQL, PostgreSQL, создается дополнительная трудность с настройкой SUT
5. Поскольку в качестве банковского сервиса выступает заглушка, есть риск что при подключении реальной системы появятся новые не выявленные дефекты
6. После каждого прогона тестов необходимо очистить БД от записей
7. Потеря актуальности тестов UI при любом изменение в дизайне
8. Потеря актуальности тестов API при изменении структуры запросов со стороны банка
 
Интервальная оценка с учётом рисков (в часах)
1. Настройка SUT, создание необходимых дата-хелперов и page object: 8 - 12 часов
2. Написание автотестов: 8 - 12 часов
3. Создание баг-репортов и отчёта по результатам прогона тестов: 4 - 6 часов
4. Отчёт по результатам автоматизации: 3 - 4 часа

   Всего: 23 - 34 часов

План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)
1. Готовность автотестов — через 10 рабочих дней после утверждения плана тестирования;
2. Подготовка отчетов по результатам прогона тестов — через 7 рабочих дня после прогона тестов;
3. Подготовка отчета по итогам автоматизации — через 3 рабочих дня после отчетов по прогону тестов.

